<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Inventory Console</title>
	<link rel="stylesheet" href="/styles.css" />
	<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
</head>
<body class="app-page">
	<div class="app-shell">
		<aside class="sidebar">
			<div class="brand" data-section="dashboard">
				<span class="icon" aria-hidden="true"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><path d="M4 7.5 12 3l8 4.5-8 4.5-8-4.5Z"/><path d="M4 7.5v9l8 4.5 8-4.5v-9"/><path d="M12 12v9"/></svg></span>
				<span class="brand-name" data-i18n="nav_inventory">Inventory</span>
			</div>
			<nav class="nav">
				<button class="nav-item" data-section="dashboard">
					<span class="icon">⌂</span><span data-i18n="nav_dashboard">Dashboard</span>
				</button>
				<button class="nav-item" data-section="products">
					<span class="icon">⌁</span><span data-i18n="nav_products">Products</span>
				</button>
				<button class="nav-item" data-section="movements">
					<span class="icon">⇄</span><span data-i18n="nav_movements">Movements</span>
				</button>
				<button class="nav-item" data-section="export">
					<span class="icon">⬇</span><span data-i18n="nav_export">Export</span>
				</button>
				<button class="nav-item" data-section="settings">
					<span class="icon">⚙</span><span data-i18n="nav_settings">Settings</span>
				</button>
			</nav>
		</aside>

		<main class="main">
			<div class="topbar">
				<div class="title" data-i18n="topbar_title">Inventory Console</div>
				<div class="flex" id="user-info"></div>
			</div>

			<section id="section-dashboard" class="section">
				<div class="section-header">
					<h2 data-i18n="dashboard_title">Overview</h2>
					<div class="hint" data-i18n="dashboard_hint">At-a-glance status</div>
				</div>
				<div class="summary-grid">
					<div class="stat-box stat-click" id="stat-products-card" role="button" tabindex="0">
						<div class="stat-label" data-i18n="stat_products">Products</div>
						<div class="stat-value" id="stat-products">0</div>
					</div>
					<div class="stat-box stat-click" id="stat-stock-card" role="button" tabindex="0">
						<div class="stat-label" data-i18n="stat_stock">Total Stock</div>
						<div class="stat-value" id="stat-stock">0</div>
					</div>
					<div class="stat-box" id="stat-inventory-card">
						<div class="stat-label" data-i18n="inventory_status">Ombor holati</div>
						<div class="stat-value">
							<div id="stat-inventory-list" class="stat-inventory-row"></div>
						</div>
					</div>
				</div>

				<div class="chart-card">
					<div class="section-header" style="margin-bottom: 10px;">
						<h3 data-i18n="chart_title">Recent movements</h3>
					</div>
					<div class="chart-empty" id="chart-empty" data-i18n="chart_empty">Not enough data yet</div>
					<canvas id="movement-chart" height="120"></canvas>
				</div>
			</section>

			<section id="section-products" class="section" style="display:none;">
				<div class="section-header">
					<h2 data-i18n="products_title">Products</h2>
					<div class="hint" data-i18n="products_hint">Create, edit, and manage products</div>
				</div>
				<form id="product-form" class="form-grid" autocomplete="off">
					<div>
						<label class="input-label" data-i18n="product_name_label" for="product-name">Name</label>
						<input class="input-control" id="product-name" name="name" required />
					</div>
					<div>
						<label class="input-label" data-i18n="product_category_label" for="product-category">Category</label>
						<input class="input-control" id="product-category" name="category" required />
					</div>
					<div>
						<label class="input-label" data-i18n="product_price_label" for="product-price">Price</label>
						<input class="input-control" id="product-price" name="price" type="number" min="0" step="0.01" required />
					</div>
					<div>
						<label class="input-label" data-i18n="product_stock_label" for="product-stock">Quantity</label>
						<input class="input-control" id="product-stock" name="stock" type="number" min="0" step="1" required />
					</div>
					<div class="flex" style="margin-top: 8px;">
						<button type="submit" class="btn btn-primary" id="product-submit" data-i18n="product_create_btn">Add product</button>
						<button type="button" class="btn btn-ghost" id="product-reset" data-i18n="product_reset_btn">Reset</button>
					</div>
				</form>

				<div class="table-card" style="margin-top: 20px;">
					<table>
						<thead>
							<tr>
								<th data-i18n="table_header_name">Name</th>
								<th data-i18n="table_header_category">Category</th>
								<th data-i18n="table_header_price">Price</th>
								<th data-i18n="table_header_stock">Quantity</th>
								<th data-i18n="table_header_actions">Actions</th>
							</tr>
						</thead>
						<tbody id="products-body"></tbody>
					</table>
					<div class="empty-state" id="products-empty" data-i18n="no_products" style="display:none;">No products yet</div>
				</div>
			</section>

			<section id="section-movements" class="section" style="display:none;">
				<div class="section-header">
					<h2 data-i18n="movements_title">Movements</h2>
					<div class="hint" data-i18n="movements_hint">Record incoming and outgoing stock</div>
				</div>
				<form id="movement-form" class="form-grid" autocomplete="off">
					<div>
						<label class="input-label" data-i18n="movement_product_label" for="movement-product">Product</label>
						<select class="input-control" id="movement-product" required></select>
						<div class="helper" id="movement-stock-info"></div>
					</div>
					<div>
						<label class="input-label" data-i18n="movement_type_label" for="movement-type">Type</label>
						<select class="input-control" id="movement-type" required>
							<option value="" selected disabled data-i18n="movement_type_select_placeholder">Select movement type</option>
							<option value="IN" data-i18n="movement_type_in">IN</option>
							<option value="OUT" data-i18n="movement_type_out">OUT</option>
						</select>
					</div>
					<div>
						<label class="input-label" data-i18n="movement_quantity_label" for="movement-quantity">Quantity</label>
						<input class="input-control" id="movement-quantity" name="quantity" type="number" min="1" step="1" required />
						<div class="helper" data-i18n="movement_hint_helper"></div>
						<div class="input-feedback" id="movement-validation" role="alert" aria-live="polite"></div>
					</div>
					<div class="flex" style="margin-top: 8px;">
						<button type="submit" class="btn btn-primary" data-i18n="movement_submit_btn">Record movement</button>
					</div>
				</form>
			</section>

			<section id="section-export" class="section" style="display:none;">
				<div class="section-header">
					<h2 data-i18n="export_title">Export</h2>
					<div class="hint" data-i18n="export_hint">Download CSV with raw values</div>
				</div>
				<div class="flex">
					<button id="export-btn" class="btn btn-primary" data-i18n="export_button">Export CSV</button>
				</div>
			</section>

			<section id="section-settings" class="section" style="display:none;">
				<div class="section-header">
					<h2 data-i18n="settings_title">Settings</h2>
					<div class="hint" data-i18n="settings_hint">Language and session</div>
				</div>
				<div class="settings-grid">
					<div class="card">
						<div class="card-title" data-i18n="settings_language">Language</div>
						<div class="form-vertical">
							<label class="input-label" for="lang-select-app" data-i18n="lang_label">Language</label>
							<select id="lang-select-app" class="input-control">
								<option value="EN">English</option>
								<option value="UZ">O'zbekcha</option>
								<option value="JP">日本語</option>
							</select>
						</div>
					</div>
					<div class="card">
						<div class="card-title" data-i18n="settings_session">Session</div>
						<button id="logout-btn" class="btn btn-ghost logout-hover" data-i18n="nav_logout">Logout</button>
					</div>
				</div>
			</section>
		</main>
	</div>

	<div class="toast" id="toast" role="status" aria-live="polite"></div>

	<script src="/js/i18n.js"></script>
	<script src="/js/app.js"></script>
</body>
</html>
